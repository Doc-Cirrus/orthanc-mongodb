cmake_minimum_required(VERSION 3.2)

project(${GTEST_PROJECT})

include(ExternalProject)

ExternalProject_Add(${GTEST_PROJECT}
    GIT_REPOSITORY  "https://github.com/google/googletest.git"
    GIT_TAG         "${GTEST_VERSION}"
    SOURCE_DIR      "${GTES_SOURCE_DIR}"
    BINARY_DIR      "${GTES_BINARY_DIR}"
    INSTALL_DIR     "${GTES_INSTALL_DIR}"
    CMAKE_CACHE_ARGS
        "-DCMAKE_C_FLAGS:STRING=${CMAKE_C_FLAGS}"
        "-DCMAKE_C_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}:STRING=${CMAKE_C_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}}"
        "-DCMAKE_CXX_FLAGS:STRING=${CMAKE_CXX_FLAGS}"
        "-DCMAKE_CXX_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}:STRING=${CMAKE_CXX_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}}"
        -DCMAKE_INSTALL_PREFIX:PATH=${GTEST_INSTALL_DIR}
)
