cmake_minimum_required(VERSION 3.2)

project(${JSONCPP_PROJECT})

include(ExternalProject)

ExternalProject_Add(${JSONCPP_PROJECT}
    GIT_REPOSITORY  "https://github.com/open-source-parsers/jsoncpp"
    GIT_TAG         "${JSONCPP_VERSION}"
    SOURCE_DIR      "${JSONCPP_SOURCE_DIR}"
    BINARY_DIR      "${JSONCPP_BINARY_DIR}"
    INSTALL_DIR     "${JSONCPP_INSTALL_DIR}"
    CMAKE_CACHE_ARGS
        "-DCMAKE_CXX_FLAGS:STRING=${CMAKE_CXX_FLAGS}"
        "-DCMAKE_CXX_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}:STRING=${CMAKE_CXX_FLAGS_${CMAKE_BUILD_TYPE_UPPERCASE}}"
        -DCMAKE_INSTALL_PREFIX:PATH=${JSONCPP_INSTALL_DIR}
        -DCMAKE_BUILD_TYPE:STRING=${CMAKE_BUILD_TYPE}
        -DBUILD_STATIC_LIBS:BOOL=${LINK_STATIC_LIBS}
        -DBUILD_SHARED_LIBS:BOOL=${JSONCPP_LINK_SHARED_LIBS}
        -DJSONCPP_WITH_CMAKE_PACKAGE:BOOL=ON
)
